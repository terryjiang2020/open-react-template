-- Table: generations
[Table Purpose]
Stores Pokémon generations (Gen I, Gen II, etc.).
[Primary Key]
id
[Foreign Keys]
main_region_id → regions.id

id INTEGER PRIMARY KEY,
main_region_id INTEGER,
identifier VARCHAR(50) NOT NULL UNIQUE

-- Table: types
[Table Purpose]
Stores Pokémon and move types (Fire, Water, Grass, etc.).
[Primary Key]
id
[Foreign Keys]
generation_id → generations.id
damage_class_id → move_damage_classes.id

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE,
generation_id INTEGER NOT NULL,
damage_class_id INTEGER,
FOREIGN KEY (generation_id) REFERENCES generations(id) ON DELETE RESTRICT

-- Table: contest_types
[Table Purpose]
Stores contest type categories for moves and berries.
[Primary Key]
id
[Foreign Keys]
None

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE

-- Table: move_damage_classes
[Table Purpose]
Stores move damage classifications: physical, special, or status.
[Primary Key]
id
[Foreign Keys]
None

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE

-- Table: stats
[Table Purpose]
Stores Pokémon base stats (HP, Attack, Defense, Sp.Atk, Sp.Def, Speed).
[Primary Key]
id
[Foreign Keys]
damage_class_id → move_damage_classes.id

id INTEGER PRIMARY KEY,
damage_class_id INTEGER,
identifier VARCHAR(50) NOT NULL UNIQUE,
is_battle_only BOOLEAN NOT NULL DEFAULT FALSE,
game_index INTEGER,
FOREIGN KEY (damage_class_id) REFERENCES move_damage_classes(id) ON DELETE SET NULL

-- Table: move_targets
[Table Purpose]
Defines what a move can target (single Pokémon, all opponents, etc.).
[Primary Key]
id
[Foreign Keys]
None

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE

-- Table: move_effects
[Table Purpose]
Stores unique move effects referenced by moves table.
[Primary Key]
id
[Foreign Keys]
None

id INTEGER PRIMARY KEY

-- Table: berry_firmness
[Table Purpose]
Stores berry firmness levels (very-soft, soft, hard, etc.).
[Primary Key]
id
[Foreign Keys]
None

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE

-- Table: pokemon_species
[Table Purpose]
Stores Pokémon species data (shared across all forms of a species).
[Primary Key]
id
[Foreign Keys]
generation_id → generations.id
evolves_from_species_id → pokemon_species.id

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE,
generation_id INTEGER NOT NULL,
evolves_from_species_id INTEGER,
evolution_chain_id INTEGER,
color_id INTEGER,
shape_id INTEGER,
habitat_id INTEGER,
gender_rate INTEGER,
capture_rate INTEGER,
base_happiness INTEGER,
is_baby BOOLEAN NOT NULL DEFAULT FALSE,
hatch_counter INTEGER,
has_gender_differences BOOLEAN NOT NULL DEFAULT FALSE,
growth_rate_id INTEGER,
forms_switchable BOOLEAN NOT NULL DEFAULT FALSE,
is_legendary BOOLEAN NOT NULL DEFAULT FALSE,
is_mythical BOOLEAN NOT NULL DEFAULT FALSE,
"order" INTEGER,
conquest_order INTEGER,
FOREIGN KEY (generation_id) REFERENCES generations(id) ON DELETE RESTRICT,
FOREIGN KEY (evolves_from_species_id) REFERENCES pokemon_species(id) ON DELETE SET NULL

-- Table: pokemon
[Table Purpose]
Stores individual Pokémon forms (e.g., mega evolutions, regional variants).
[Primary Key]
id
[Foreign Keys]
species_id → pokemon_species.id

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE,
species_id INTEGER NOT NULL,
height INTEGER NOT NULL,
weight INTEGER NOT NULL,
base_experience INTEGER,
"order" INTEGER,
is_default BOOLEAN NOT NULL DEFAULT TRUE,
FOREIGN KEY (species_id) REFERENCES pokemon_species(id) ON DELETE CASCADE

-- Table: moves
[Table Purpose]
Stores Pokémon moves/attacks data.
[Primary Key]
id
[Foreign Keys]
generation_id → generations.id
type_id → types.id
target_id → move_targets.id
damage_class_id → move_damage_classes.id
effect_id → move_effects.id
contest_type_id → contest_types.id

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE,
generation_id INTEGER NOT NULL,
type_id INTEGER NOT NULL,
power INTEGER,
pp INTEGER,
accuracy INTEGER,
priority INTEGER NOT NULL DEFAULT 0,
target_id INTEGER,
damage_class_id INTEGER,
effect_id INTEGER,
effect_chance INTEGER,
contest_type_id INTEGER,
contest_effect_id INTEGER,
super_contest_effect_id INTEGER,
FOREIGN KEY (generation_id) REFERENCES generations(id) ON DELETE RESTRICT,
FOREIGN KEY (type_id) REFERENCES types(id) ON DELETE RESTRICT,
FOREIGN KEY (target_id) REFERENCES move_targets(id) ON DELETE RESTRICT,
FOREIGN KEY (damage_class_id) REFERENCES move_damage_classes(id) ON DELETE RESTRICT,
FOREIGN KEY (effect_id) REFERENCES move_effects(id) ON DELETE RESTRICT,
FOREIGN KEY (contest_type_id) REFERENCES contest_types(id) ON DELETE SET NULL

-- Table: abilities
[Table Purpose]
Stores Pokémon abilities (passive effects).
[Primary Key]
id
[Foreign Keys]
generation_id → generations.id

id INTEGER PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE,
generation_id INTEGER NOT NULL,
is_main_series BOOLEAN NOT NULL DEFAULT TRUE,
FOREIGN KEY (generation_id) REFERENCES generations(id) ON DELETE RESTRICT

-- Table: berries
[Table Purpose]
Stores berry items data.
[Primary Key]
id
[Foreign Keys]
firmness_id → berry_firmness.id
natural_gift_type_id → types.id

id INTEGER PRIMARY KEY,
item_id INTEGER NOT NULL,
firmness_id INTEGER NOT NULL,
natural_gift_power INTEGER,
natural_gift_type_id INTEGER,
size INTEGER NOT NULL,
max_harvest INTEGER NOT NULL,
growth_time INTEGER NOT NULL,
soil_dryness INTEGER NOT NULL,
smoothness INTEGER NOT NULL,
FOREIGN KEY (firmness_id) REFERENCES berry_firmness(id) ON DELETE RESTRICT,
FOREIGN KEY (natural_gift_type_id) REFERENCES types(id) ON DELETE SET NULL

-- Table: pokemon_types
[Table Purpose]
Links Pokémon to their types (1-2 types per Pokémon).
[Primary Key]
pokemon_id, slot
[Foreign Keys]
pokemon_id → pokemon.id
type_id → types.id

pokemon_id INTEGER NOT NULL,
type_id INTEGER NOT NULL,
slot INTEGER NOT NULL,
PRIMARY KEY (pokemon_id, slot),
FOREIGN KEY (pokemon_id) REFERENCES pokemon(id) ON DELETE CASCADE,
FOREIGN KEY (type_id) REFERENCES types(id) ON DELETE RESTRICT

-- Table: pokemon_stats
[Table Purpose]
Stores base stats for each Pokémon.
[Primary Key]
pokemon_id, stat_id
[Foreign Keys]
pokemon_id → pokemon.id
stat_id → stats.id

pokemon_id INTEGER NOT NULL,
stat_id INTEGER NOT NULL,
base_stat INTEGER NOT NULL,
effort INTEGER NOT NULL DEFAULT 0,
PRIMARY KEY (pokemon_id, stat_id),
FOREIGN KEY (pokemon_id) REFERENCES pokemon(id) ON DELETE CASCADE,
FOREIGN KEY (stat_id) REFERENCES stats(id) ON DELETE RESTRICT

-- Table: ability_names
[Table Purpose]
Stores localized ability names.
[Primary Key]
ability_id, local_language_id
[Foreign Keys]
ability_id → abilities.id

ability_id INTEGER NOT NULL,
local_language_id INTEGER NOT NULL,
name VARCHAR(100) NOT NULL,
PRIMARY KEY (ability_id, local_language_id),
FOREIGN KEY (ability_id) REFERENCES abilities(id) ON DELETE CASCADE

-- Table: ability_prose
[Table Purpose]
Stores ability descriptions and effects in different languages.
[Primary Key]
ability_id, local_language_id
[Foreign Keys]
ability_id → abilities.id

ability_id INTEGER NOT NULL,
local_language_id INTEGER NOT NULL,
short_effect TEXT,
effect TEXT,
PRIMARY KEY (ability_id, local_language_id),
FOREIGN KEY (ability_id) REFERENCES abilities(id) ON DELETE CASCADE

-- Table: berry_flavors
[Table Purpose]
Stores berry flavor values for each contest type.
[Primary Key]
berry_id, contest_type_id
[Foreign Keys]
berry_id → berries.id
contest_type_id → contest_types.id

berry_id INTEGER NOT NULL,
contest_type_id INTEGER NOT NULL,
flavor INTEGER NOT NULL,
PRIMARY KEY (berry_id, contest_type_id),
FOREIGN KEY (berry_id) REFERENCES berries(id) ON DELETE CASCADE,
FOREIGN KEY (contest_type_id) REFERENCES contest_types(id) ON DELETE RESTRICT

-- Table: move_names
[Table Purpose]
Stores localized move names.
[Primary Key]
id
[Foreign Keys]
move_id → moves.id
local_language_id → languages.id

id SERIAL PRIMARY KEY,
move_id INT NOT NULL,
local_language_id INT NOT NULL,
name VARCHAR(100) NOT NULL

-- Table: pokemon_species_names
[Table Purpose]
Stores localized Pokémon species names.
[Primary Key]
id
[Foreign Keys]
pokemon_species_id → pokemon_species.id
local_language_id → languages.id

id SERIAL PRIMARY KEY,
pokemon_species_id INT NOT NULL,
local_language_id INT NOT NULL,
name VARCHAR(100) NOT NULL,
genus VARCHAR(100)

-- Table: pokemon_species_flavor_text
[Table Purpose]
Stores Pokémon species flavor text for different languages and versions.
[Primary Key]
id
[Foreign Keys]
pokemon_species_id → pokemon_species.id
local_language_id → languages.id
version_id → versions.id

id SERIAL PRIMARY KEY,
pokemon_species_id INT NOT NULL,
local_language_id INT NOT NULL,
flavor_text TEXT NOT NULL,
version_id INT NOT NULL

-- Table: pokemon_abilities
[Table Purpose]
Stores Pokémon abilities for each Pokémon.
[Primary Key]
id
[Foreign Keys]
pokemon_id → pokemon.id
ability_id → abilities.id

id SERIAL PRIMARY KEY,
pokemon_id INT NOT NULL,
ability_id INT NOT NULL,
is_hidden BOOLEAN NOT NULL DEFAULT FALSE,
slot INT NOT NULL

-- Table: pokemon_moves
[Table Purpose]
Stores Pokémon moves for each Pokémon.
[Primary Key]
id
[Foreign Keys]
pokemon_id → pokemon.id
move_id → moves.id
version_group_id → version_groups.id
move_method_id → pokemon_move_methods.id

id SERIAL PRIMARY KEY,
pokemon_id INTEGER NOT NULL,
move_id INTEGER NOT NULL,
version_group_id INTEGER NOT NULL,
move_method_id INTEGER NOT NULL,
level INTEGER,
order_index INTEGER,
mastery INT

-- Table: pokemon_move_methods
[Table Purpose]
Stores move learning methods for Pokémon.
[Primary Key]
id
[Foreign Keys]
None

id SERIAL PRIMARY KEY,
identifier VARCHAR(50) NOT NULL UNIQUE
